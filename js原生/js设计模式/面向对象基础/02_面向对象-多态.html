<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>面向对象-多态</title>
	</head>
	<script>
		//多态
		/* 同一操作作用于不同的对象上面，可以产生不同的解释和不同的执行结
		果。换句话说，给不同的对象发送同一个消息的时候，这些对象会根据这个消息分别给出不同的
		反馈。*/

		// var makeSound = function(animal) {
		// 	if (animal instanceof Duck) {
		// 		console.log('嘎嘎嘎');
		// 	} else if (animal instanceof Chicken) {
		// 		console.log('咯咯咯');
		// 	}
		// };
		// var Duck = function() {};
		// var Chicken = function() {};
		// makeSound(new Duck()); // 嘎嘎嘎
		// makeSound(new Chicken()); // 咯咯咯

		/* 多态背后的思想是将“做什么”和“谁去做以及怎样去做”分离开来，也就是将“不变的事
物”与 “可能改变的事物”分离开来。然后把可变的部分各自封装起来，我们刚才谈到的多态性实际上指的是对象的多态性： */

		var makeSound = function(animal) {
			animal.sound();
		};
		var Duck = function(){}
		Duck.prototype.sound = function() {
			console.log('嘎嘎嘎');
		};
		var Chicken = function() {}
		Chicken.prototype.sound = function() {
			console.log('咯咯咯');
		};
		makeSound(new Duck()); // 嘎嘎嘎
		makeSound(new Chicken()); // 咯咯咯

		var googleMap = {
			show: function() {
				console.log('开始渲染谷歌地图');
			}
		};
		var baiduMap = {
			show: function() {
				console.log('开始渲染百度地图');
			}
		};
		/* var renderMap = function(type) {
			if (type === 'google') {
				googleMap.show();
			} else if (type === 'baidu') {
				baiduMap.show();
			}
		};
		renderMap('google'); // 输出：开始渲染谷歌地图
		renderMap('baidu'); // 输出：开始渲染百度地图 */

		var renderMap = function(map) {
			if (map.show instanceof Function) {
				map.show();
			}
		};
	</script>
	</body>·
</html>
